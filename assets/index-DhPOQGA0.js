import{d as J,r as T,c as A,o as s,a as f,F as w,b as P,u as o,e as l,t as S,n as Z,w as B,f as X,g as N,h as j,i as ee,j as re,v as ne,k as te,l as oe,m as ae}from"./vendor-B99lCIoy.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))g(n);new MutationObserver(n=>{for(const p of n)if(p.type==="childList")for(const u of p.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&g(u)}).observe(document,{childList:!0,subtree:!0});function r(n){const p={};return n.integrity&&(p.integrity=n.integrity),n.referrerPolicy&&(p.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?p.credentials="include":n.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function g(n){if(n.ep)return;n.ep=!0;const p=r(n);fetch(n.href,p)}})();const q=J("armor",()=>{const c=T(null),e=T(null),r=T(null);function g($){c.value=$}function n($){e.value=$}function p($){r.value=$}const u=A(()=>c.value!==null),d=A(()=>e.value!==null),E=A(()=>r.value!==null);function h(){return{type:c.value,base:e.value,enchantment:r.value}}return{selectedArmorType:c,selectedArmorBase:e,setArmorEnchantment:p,setArmorType:g,setArmorBase:n,getArmor:h,hasSelectedType:u,hasSelectedBase:d,hasSelectedEnchantment:E}});function ce(){const c=q(),e=["cloth","leather","mail","plate"],r=["helmet","chest","pants","gloves","weapone","bow","shield"],g=["commmon","magic","plagued"],n=A(()=>c.getArmor());function p(E){c.setArmorType(E)}function u(E){c.setArmorBase(E)}function d(E){c.setArmorEnchantment(E)}return{armorType:e,armorBase:r,armorEnchantment:g,currentArmor:n,onSelectType:p,onSelectBase:u,onSelectEnchantment:d}}const ge={class:"armors"},ue=["onClick"],pe=["onClick"],se={__name:"selectArmor",setup(c){const{armorType:e,armorBase:r,onSelectBase:g,onSelectType:n}=ce();return(p,u)=>(s(),f("div",ge,[(s(!0),f(w,null,P(o(e),d=>(s(),f("button",{key:d,onClick:E=>o(n)(d),class:"armors__type"},S(d),9,ue))),128)),u[0]||(u[0]=l("br",null,null,-1)),u[1]||(u[1]=l("br",null,null,-1)),(s(!0),f(w,null,P(o(r),d=>(s(),f("button",{key:d,onClick:E=>o(g)(d)},S(d),9,pe))),128)),u[2]||(u[2]=l("br",null,null,-1)),u[3]||(u[3]=l("br",null,null,-1))]))}},fe=JSON.parse('{"chest":[{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Разное","enchant":"Устойчивость повышается на $range","range":{"from":1,"to":3},"percent":false},{"group":"Разное","enchant":"Сопротивление оглушению повышается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Разное","enchant":"Позволяет игнорировать потерю прочности с $range шансом","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Даёт $range Шипов","range":{"from":12,"to":40},"percent":true},{"group":"Наступательная","enchant":"Даёт $range пробивания брони","range":{"from":7,"to":15},"percent":true},{"group":"Концентрация","enchant":"Расход концентрации снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Концентрация","enchant":"Скорость набора концентрации повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Концентрация","enchant":"Макс. запас концентрации повышается на $range","range":{"from":7,"to":25},"percent":true},{"group":"Концентрация","enchant":"Восстановление концентрации в бою"},{"group":"Элементальный","enchant":"Ледяной урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Огненный урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Электрический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Физический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Моровый урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Здоровье","enchant":"Восстановимое здоровье повышается на $range","range":{"from":10,"to":25},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Сопротивление физическому урону повышается на $range","range":{"from":3,"to":6},"percent":true},{"group":"Защита","enchant":"Сопротивление элементальному урону повышается на $range","range":{"from":5,"to":10},"percent":true}],"bow":[{"group":"Разное","enchant":"Оглушающий урон повышается на $range на 20 сек. после убийства","range":{"from":15,"to":30},"percent":true},{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Наступательная","enchant":"Урон от атак повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range на 10 сек. после уклонения от урона","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Наносит $range урона при уклонении от урона","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Наступательная","enchant":"Урон от рунных атак повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Наносит $range урона при оглушении врага","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Оглушающий урон повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Расход выносливости на атаки снижается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон от атак повышается на $range на 10 сек после выполнения рунной атаки","range":{"from":6,"to":20},"percent":true},{"group":"Концентрация","enchant":"Даёт $range концентрации при уклонении от урона","range":{"from":5,"to":15},"percent":false},{"group":"Выносливость","enchant":"Расход выносливости на уклонение снижается на $range","range":{"from":7,"to":25},"percent":true},{"group":"Выносливость","enchant":"Даёт $range выносливости при уклонении от урона","range":{"from":5,"to":15},"percent":false},{"group":"Здоровье","enchant":"Даёт $range здоровья при убийстве","range":{"from":4,"to":10},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Даёт $range Барьера при убийстве","range":{"from":12,"to":25},"percent":true},{"group":"Защита","enchant":"Даёт $range Барьера при уклонении от урона","range":{"from":5,"to":10},"percent":true}],"weapone":[{"group":"Разное","enchant":"Оглушающий урон повышается на $range на 20 сек. после убийства","range":{"from":15,"to":30},"percent":true},{"group":"Разное","enchant":"Оглушающий урон повышается на $range на 30 сек. после удара в спину","range":{"from":15,"to":30},"percent":true},{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Разное","enchant":"Урон повышается на $range на 30 сек. после удара в спину","range":{"from":15,"to":30},"percent":true},{"group":"Наступательная","enchant":"Урон от атак повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Наступательная","enchant":"Урон от атак повышается на $range на 10 сек после выполнения рунной атаки","range":{"from":6,"to":20},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range за каждого врага поблизости","range":{"from":2,"to":5},"percent":true},{"group":"Наступательная","enchant":"Наносит $range урона при оглушении врага","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Урон от рунных атак повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Оглушающий урон повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Выносливость","enchant":"Расход выносливости на атаки снижается на $range на 10 сек. после парирования","range":{"from":7,"to":25},"percent":true},{"group":"Здоровье","enchant":"Даёт $range здоровья при убийстве","range":{"from":4,"to":10},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Даёт $range Барьера при убийстве","range":{"from":12,"to":25},"percent":true}],"gloves":[{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Разное","enchant":"Устойчивость повышается на $range","range":{"from":1,"to":3},"percent":false},{"group":"Разное","enchant":"Сопротивление оглушению повышается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Разное","enchant":"Позволяет игнорировать потерю прочности с $range шансом","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Даёт $range Шипов","range":{"from":12,"to":40},"percent":true},{"group":"Наступательная","enchant":"Даёт $range пробивания брони","range":{"from":7,"to":15},"percent":true},{"group":"Наступательная","enchant":"Расход выносливости на атаки снижается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Концентрация","enchant":"Расход концентрации снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Концентрация","enchant":"Скорость набора концентрации повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Концентрация","enchant":"Макс. запас концентрации повышается на $range","range":{"from":7,"to":25},"percent":true},{"group":"Концентрация","enchant":"Восстановление концентрации в бою"},{"group":"Элементальный","enchant":"Ледяной урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Огненный урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Электрический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Физический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Моровый урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Выносливость","enchant":"Расход выносливости на атаки снижается на $range на 10 сек. после парирования","range":{"from":7,"to":25},"percent":true},{"group":"Здоровье","enchant":"Восстановимое здоровье повышается на $range","range":{"from":10,"to":25},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Сопротивление физическому урону повышается на $range","range":{"from":3,"to":6},"percent":true},{"group":"Защита","enchant":"Сопротивление элементальному урону повышается на $range","range":{"from":5,"to":10},"percent":true}],"helmet":[{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Разное","enchant":"Устойчивость повышается на $range","range":{"from":1,"to":3},"percent":false},{"group":"Разное","enchant":"Сопротивление оглушению повышается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Разное","enchant":"Позволяет игнорировать потерю прочности с $range шансом","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Даёт $range Шипов","range":{"from":12,"to":40},"percent":true},{"group":"Наступательная","enchant":"Даёт $range пробивания брони","range":{"from":7,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range на 10 сек. после употребления пищи","range":{"from":4,"to":15},"percent":true},{"group":"Концентрация","enchant":"Расход концентрации снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Концентрация","enchant":"Скорость набора концентрации повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Концентрация","enchant":"Даёт $range концентрации при наложении любого статуса","range":{"from":5,"to":15},"percent":false},{"group":"Концентрация","enchant":"Макс. запас концентрации повышается на $range","range":{"from":7,"to":25},"percent":true},{"group":"Концентрация","enchant":"Восстановление концентрации в бою"},{"group":"Концентрация","enchant":"Расход концентрации снижается на $range на 10 сек. после выполнения рунной атаки","range":{"from":6,"to":20},"percent":true},{"group":"Элементальный","enchant":"Ледяной урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Огненный урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Электрический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Физический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Моровый урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Здоровье","enchant":"Восстановимое здоровье повышается на $range","range":{"from":10,"to":25},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Даёт $range Барьера после употребления пищи","range":{"from":7,"to":15},"percent":true},{"group":"Защита","enchant":"Сопротивление физическому урону повышается на $range","range":{"from":3,"to":6},"percent":true},{"group":"Защита","enchant":"Сопротивление элементальному урону повышается на $range","range":{"from":5,"to":10},"percent":true},{"group":"Защита","enchant":"Сопротивление урону повышается на $range на 10 сек. после употребления пищи","range":{"from":3,"to":10},"percent":true}],"pants":[{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Разное","enchant":"Устойчивость повышается на $range","range":{"from":1,"to":3},"percent":false},{"group":"Разное","enchant":"Сопротивление оглушению повышается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Разное","enchant":"Позволяет игнорировать потерю прочности с $range шансом","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Даёт $range Шипов","range":{"from":12,"to":40},"percent":true},{"group":"Наступательная","enchant":"Даёт $range пробивания брони","range":{"from":7,"to":15},"percent":true},{"group":"Концентрация","enchant":"Расход концентрации снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Концентрация","enchant":"Скорость набора концентрации повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Концентрация","enchant":"Макс. запас концентрации повышается на $range","range":{"from":7,"to":25},"percent":true},{"group":"Концентрация","enchant":"Восстановление концентрации в бою"},{"group":"Элементальный","enchant":"Ледяной урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Огненный урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Электрический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Физический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Моровый урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Выносливость","enchant":"Расход выносливости на уклонение снижается на $range","range":{"from":7,"to":25},"percent":true},{"group":"Выносливость","enchant":"Даёт $range выносливости при уклонении от урона","range":{"from":5,"to":15},"percent":false},{"group":"Здоровье","enchant":"Восстановимое здоровье повышается на $range","range":{"from":10,"to":25},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Сопротивление физическому урону повышается на $range","range":{"from":3,"to":6},"percent":true},{"group":"Защита","enchant":"Сопротивление элементальному урону повышается на $range","range":{"from":5,"to":10},"percent":true}],"shield":[{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Наступательная","enchant":"Даёт $range Шипов","range":{"from":12,"to":40},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range на 10 сек. после парирования","range":{"from":5,"to":15},"percent":true},{"group":"Наступательная","enchant":"Наносит $range урона при парировании","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Наносит $range урона при блокировании","range":{"from":5,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range на 10 сек. после блокирования","range":{"from":7,"to":15},"percent":true},{"group":"Концентрация","enchant":"Даёт $range концентрации при блокировании","range":{"from":2,"to":5},"percent":false},{"group":"Концентрация","enchant":"Даёт $range концентрации при парировании","range":{"from":5,"to":15},"percent":false},{"group":"Выносливость","enchant":"Даёт $range выносливости при парировании","range":{"from":9,"to":30},"percent":false},{"group":"Выносливость","enchant":"Даёт $range выносливости при блокировании","range":{"from":5,"to":15},"percent":false},{"group":"Защита","enchant":"Получаемый урон снижается на $range при блокировании","range":{"from":4,"to":15},"percent":true}]}'),he={chest:[{group:"Разное",enchant:"Грузоподъёмность снижается на $range",range:{from:20,to:30},percent:!0},{group:"Разное",enchant:"Нельзя починить"},{group:"Разное",enchant:"Истощает концентрацию в бою"},{group:"Разное",enchant:"Расход концентрации повышается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Отнимает $range концентрацию при получении урона",range:{from:10,to:15},percent:!1},{group:"Разное",enchant:"Истощает здоровье в бою"},{group:"Разное",enchant:"Получаемый урон повышается на $range",range:{from:10,to:15},percent:!0},{group:"Разное",enchant:"Получаемый урон повышается на $range на 6 сек. после получения урона",range:{from:21,to:30},percent:!0},{group:"Разное",enchant:"Сопротивление оглушению снижается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Макс. запас концентрации снижается на $range",range:{from:18,to:25},percent:!0},{group:"Разное",enchant:"Максимальное здоровье снижается на $range",range:{from:14,to:20},percent:!0},{group:"Разное",enchant:"Максимальная выносливость снижается на $range",range:{from:14,to:20},percent:!0},{group:"Разное",enchant:"Расход выносливости повышается на $range",range:{from:13,to:20},percent:!0},{group:"Разное",enchant:"Лечение снижается на $range",range:{from:20,to:30},percent:!0}],bow:[{group:"Разное",enchant:"Грузоподъёмность снижается на $range",range:{from:20,to:30},percent:!0},{group:"Разное",enchant:"Нельзя починить"},{group:"Разное",enchant:"Истощает концентрацию в бою"},{group:"Разное",enchant:"Расход концентрации повышается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Отнимает $range концентрацию при получении урона",range:{from:10,to:15},percent:!1},{group:"Разное",enchant:"Наносит $range урона персонажу при использовании концентрации",range:{from:20,to:30},percent:!0},{group:"Разное",enchant:"Истощает здоровье в бою"},{group:"Разное",enchant:"Расход выносливости на атаки повышается на $range",range:{from:20,to:30},percent:!0},{group:"Разное",enchant:"Расход выносливости на уклонение повышается на $range",range:{from:25,to:40},percent:!0}],weapone:[{group:"Разное",enchant:"Нельзя починить"},{group:"Разное",enchant:"Истощает концентрацию в бою"},{group:"Разное",enchant:"Расход концентрации повышается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Отнимает $range концентрацию при получении урона",range:{from:10,to:15},percent:!1},{group:"Разное",enchant:"Наносит $range урона персонажу при использовании концентрации",range:{from:20,to:30},percent:!0},{group:"Разное",enchant:"Истощает здоровье в бою"},{group:"Разное",enchant:"Расход выносливости на атаки повышается на $range",range:{from:20,to:30},percent:!0},{group:"Разное",enchant:"Лечение снижается на $range за каждого врага поблизости",range:{from:15,to:25},percent:!0}],gloves:[{group:"Разное",enchant:"Грузоподъёмность снижается на $range",range:{from:20,to:30},percent:!0},{group:"Разное",enchant:"Нельзя починить"},{group:"Разное",enchant:"Получаемый урон повышается на $range",range:{from:10,to:15},percent:!0},{group:"Разное",enchant:"Получаемый урон повышается на $range на 6 сек. после получения урона",range:{from:21,to:30},percent:!0},{group:"Разное",enchant:"Сопротивление оглушению снижается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Истощает концентрацию в бою"},{group:"Разное",enchant:"Истощает здоровье в бою"},{group:"Разное",enchant:"Отнимает $range концентрацию при получении урона",range:{from:10,to:15},percent:!1},{group:"Разное",enchant:"Расход концентрации повышается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Макс. запас концентрации снижается на $range",range:{from:18,to:25},percent:!0},{group:"Разное",enchant:"Максимальное здоровье снижается на $range",range:{from:14,to:20},percent:!0},{group:"Разное",enchant:"Максимальная выносливость снижается на $range",range:{from:14,to:20},percent:!0},{group:"Разное",enchant:"Расход выносливости повышается на $range",range:{from:13,to:20},percent:!0},{group:"Разное",enchant:"Расход выносливости на атаки повышается на $range",range:{from:20,to:30},percent:!0},{group:"Разное",enchant:"Лишает возможности парировать"}],helmet:[{group:"Разное",enchant:"Нельзя починить"},{group:"Разное",enchant:"Истощает концентрацию в бою"},{group:"Разное",enchant:"Скорость набора концентрации снижается на $range",range:{from:32,to:50},percent:!0},{group:"Разное",enchant:"Расход концентрации повышается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Отнимает $range концентрацию при получении урона",range:{from:10,to:15},percent:!1},{group:"Разное",enchant:"Истощает здоровье в бою"},{group:"Разное",enchant:"Получаемый урон повышается на $range",range:{from:10,to:15},percent:!0},{group:"Разное",enchant:"Получаемый урон повышается на $range на 6 сек. после получения урона",range:{from:21,to:30},percent:!0},{group:"Разное",enchant:"Получаемый урона повышается на $range на 10 сек. после употребления пищи",range:{from:21,to:30},percent:!0},{group:"Разное",enchant:"Макс. запас концентрации снижается на $range",range:{from:18,to:25},percent:!0},{group:"Разное",enchant:"Максимальное здоровье снижается на $range",range:{from:14,to:20},percent:!0},{group:"Разное",enchant:"Максимальная выносливость снижается на $range",range:{from:14,to:20},percent:!0},{group:"Разное",enchant:"Расход выносливости повышается на $range",range:{from:13,to:20},percent:!0},{group:"Разное",enchant:"Сопротивление оглушению снижается на $range",range:{from:26,to:40},percent:!0}],pants:[{group:"Разное",enchant:"Грузоподъёмность снижается на $range",range:{from:20,to:30},percent:!0},{group:"Разное",enchant:"Нельзя починить"},{group:"Разное",enchant:"Получаемый урон повышается на $range",range:{from:10,to:15},percent:!0},{group:"Разное",enchant:"Получаемый урон повышается на $range на 6 сек. после получения урона",range:{from:21,to:30},percent:!0},{group:"Разное",enchant:"Истощает концентрацию в бою"},{group:"Разное",enchant:"Истощает здоровье в бою"},{group:"Разное",enchant:"Отнимает $range концентрацию при получении урона",range:{from:10,to:15},percent:!1},{group:"Разное",enchant:"Сопротивление оглушению снижается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Расход концентрации повышается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Макс. запас концентрации снижается на $range",range:{from:18,to:25},percent:!0},{group:"Разное",enchant:"Максимальное здоровье снижается на $range",range:{from:14,to:20},percent:!0},{group:"Разное",enchant:"Максимальная выносливость снижается на $range",range:{from:14,to:20},percent:!0},{group:"Разное",enchant:"Расход выносливости на уклонения повышается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Расход выносливости повышается на $range",range:{from:13,to:20},percent:!0},{group:"Разное",enchant:"Скорость передвижения снижается на $range",range:{from:7,to:25},percent:!0},{group:"Разное",enchant:"Позволяет выполнять только тяжёлые перекаты"}],shield:[{group:"Разное",enchant:"Грузоподъёмность снижается на $range",range:{from:20,to:30},percent:!0},{group:"Разное",enchant:"Нельзя починить"},{group:"Разное",enchant:"Истощает концентрацию в бою"},{group:"Разное",enchant:"Расход концентрации повышается на $range",range:{from:26,to:40},percent:!0},{group:"Разное",enchant:"Отнимает $range концентрацию при получении урона",range:{from:10,to:15},percent:!1},{group:"Разное",enchant:"Истощает здоровье в бою"},{group:"Разное",enchant:"Лишает возможности блокировать"}]},me=JSON.parse('{"chest":[{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Разное","enchant":"Устойчивость повышается на $range","range":{"from":1,"to":3},"percent":false},{"group":"Разное","enchant":"Сопротивление оглушению повышается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Разное","enchant":"Позволяет игнорировать потерю прочности с $range шансом","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Даёт $range Шипов","range":{"from":12,"to":40},"percent":true},{"group":"Наступательная","enchant":"Даёт $range пробивания брони","range":{"from":7,"to":15},"percent":true},{"group":"Элементальный","enchant":"Ледяной урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Огненный урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Электрический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Физический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Моровый урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Здоровье","enchant":"Восстановимое здоровье повышается на $range","range":{"from":10,"to":25},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Сопротивление физическому урону повышается на $range","range":{"from":3,"to":6},"percent":true},{"group":"Защита","enchant":"Сопротивление элементальному урону повышается на $range","range":{"from":5,"to":10},"percent":true}],"bow":[{"group":"Разное","enchant":"Оглушающий урон повышается на $range на 20 сек. после убийства","range":{"from":15,"to":30},"percent":true},{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Наступательная","enchant":"Урон от атак повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range на 10 сек. после уклонения от урона","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Наносит $range урона при уклонении от урона","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Наступательная","enchant":"Урон от рунных атак повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Наносит $range урона при оглушении врага","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Оглушающий урон повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Расход выносливости на атаки снижается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон от атак повышается на $range на 10 сек после выполнения рунной атаки","range":{"from":6,"to":20},"percent":true},{"group":"Элементальный","enchant":"Ледяной урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Огненный урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Электрический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Физический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Моровый урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Концентрация","enchant":"Даёт $range концентрации при уклонении от урона","range":{"from":5,"to":15},"percent":false},{"group":"Выносливость","enchant":"Расход выносливости на уклонение снижается на $range","range":{"from":7,"to":25},"percent":true},{"group":"Выносливость","enchant":"Даёт $range выносливости при уклонении от урона","range":{"from":5,"to":15},"percent":false},{"group":"Здоровье","enchant":"Даёт $range здоровья при убийстве","range":{"from":4,"to":10},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Даёт $range Барьера при убийстве","range":{"from":12,"to":25},"percent":true},{"group":"Защита","enchant":"Даёт $range Барьера при уклонении от урона","range":{"from":5,"to":10},"percent":true}],"weapone":[{"group":"Разное","enchant":"Оглушающий урон повышается на $range на 20 сек. после убийства","range":{"from":15,"to":30},"percent":true},{"group":"Разное","enchant":"Оглушающий урон повышается на $range на 30 сек. после удара в спину","range":{"from":15,"to":30},"percent":true},{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Разное","enchant":"Урон повышается на $range на 30 сек. после удара в спину","range":{"from":15,"to":30},"percent":true},{"group":"Наступательная","enchant":"Урон от атак повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Наступательная","enchant":"Урон от атак повышается на $range на 10 сек после выполнения рунной атаки","range":{"from":6,"to":20},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range за каждого врага поблизости","range":{"from":2,"to":5},"percent":true},{"group":"Наступательная","enchant":"Наносит $range урона при оглушении врага","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Урон от рунных атак повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Наступательная","enchant":"Оглушающий урон повышается на $range","range":{"from":4,"to":15},"percent":true},{"group":"Элементальный","enchant":"Ледяной урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Огненный урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Электрический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Физический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Моровый урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Выносливость","enchant":"Расход выносливости на атаки снижается на $range на 10 сек. после парирования","range":{"from":7,"to":25},"percent":true},{"group":"Здоровье","enchant":"Даёт $range здоровья при убийстве","range":{"from":4,"to":10},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Даёт $range Барьера при убийстве","range":{"from":12,"to":25},"percent":true}],"gloves":[{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Разное","enchant":"Устойчивость повышается на $range","range":{"from":1,"to":3},"percent":false},{"group":"Разное","enchant":"Сопротивление оглушению повышается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Разное","enchant":"Позволяет игнорировать потерю прочности с $range шансом","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Даёт $range Шипов","range":{"from":12,"to":40},"percent":true},{"group":"Наступательная","enchant":"Даёт $range пробивания брони","range":{"from":7,"to":15},"percent":true},{"group":"Наступательная","enchant":"Расход выносливости на атаки снижается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Элементальный","enchant":"Ледяной урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Огненный урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Электрический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Физический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Моровый урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Выносливость","enchant":"Расход выносливости на атаки снижается на $range на 10 сек. после парирования","range":{"from":7,"to":25},"percent":true},{"group":"Здоровье","enchant":"Восстановимое здоровье повышается на $range","range":{"from":10,"to":25},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Сопротивление элементальному урону повышается на $range","range":{"from":5,"to":10},"percent":true},{"group":"Защита","enchant":"Сопротивление физическому урону повышается на $range","range":{"from":3,"to":6},"percent":true}],"helmet":[{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Разное","enchant":"Устойчивость повышается на $range","range":{"from":1,"to":3},"percent":false},{"group":"Разное","enchant":"Сопротивление оглушению повышается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Разное","enchant":"Позволяет игнорировать потерю прочности с $range шансом","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Даёт $range Шипов","range":{"from":12,"to":40},"percent":true},{"group":"Наступательная","enchant":"Даёт $range пробивания брони","range":{"from":7,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range на 10 сек. после употребления пищи","range":{"from":4,"to":15},"percent":true},{"group":"Элементальный","enchant":"Ледяной урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Огненный урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Электрический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Физический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Моровый урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Выносливость","enchant":"Расход выносливости на уклонение снижается на $range","range":{"from":7,"to":25},"percent":true},{"group":"Выносливость","enchant":"Даёт $range выносливости при уклонении от урона","range":{"from":5,"to":15},"percent":false},{"group":"Здоровье","enchant":"Восстановимое здоровье повышается на $range","range":{"from":10,"to":25},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Даёт $range Барьера после употребления пищи","range":{"from":7,"to":15},"percent":true},{"group":"Защита","enchant":"Сопротивление физическому урону повышается на $range","range":{"from":3,"to":6},"percent":true},{"group":"Защита","enchant":"Сопротивление элементальному урону повышается на $range","range":{"from":5,"to":10},"percent":true},{"group":"Защита","enchant":"Сопротивление урону повышается на $range на 10 сек. после употребления пищи","range":{"from":3,"to":10},"percent":true}],"pants":[{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Разное","enchant":"Устойчивость повышается на $range","range":{"from":1,"to":3},"percent":false},{"group":"Разное","enchant":"Сопротивление оглушению повышается на $range","range":{"from":7,"to":15},"percent":true},{"group":"Разное","enchant":"Позволяет игнорировать потерю прочности с $range шансом","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Даёт $range Шипов","range":{"from":12,"to":40},"percent":true},{"group":"Наступательная","enchant":"Даёт $range пробивания брони","range":{"from":7,"to":15},"percent":true},{"group":"Элементальный","enchant":"Ледяной урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Огненный урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Электрический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Физический урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Элементальный","enchant":"Моровый урон повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Выносливость","enchant":"Расход выносливости на уклонение снижается на $range","range":{"from":7,"to":25},"percent":true},{"group":"Выносливость","enchant":"Даёт $range выносливости при уклонении от урона","range":{"from":5,"to":15},"percent":false},{"group":"Здоровье","enchant":"Восстановимое здоровье повышается на $range","range":{"from":10,"to":25},"percent":true},{"group":"Крит","enchant":"Шанс крита повышается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Крит","enchant":"Критический урон повышается на $range","range":{"from":6,"to":20},"percent":true},{"group":"Защита","enchant":"Сопротивление физическому урону повышается на $range","range":{"from":3,"to":6},"percent":true},{"group":"Защита","enchant":"Сопротивление элементальному урону повышается на $range","range":{"from":5,"to":10},"percent":true}],"shield":[{"group":"Разное","enchant":"Прочность повышается на $range","range":{"from":30,"to":100},"percent":true},{"group":"Разное","enchant":"Вес предмета снижается на $range","range":{"from":3,"to":10},"percent":true},{"group":"Наступательная","enchant":"Даёт $range Шипов","range":{"from":12,"to":40},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range на 10 сек. после парирования","range":{"from":5,"to":15},"percent":true},{"group":"Наступательная","enchant":"Наносит $range урона при парировании","range":{"from":7,"to":25},"percent":true},{"group":"Наступательная","enchant":"Наносит $range урона при блокировании","range":{"from":5,"to":15},"percent":true},{"group":"Наступательная","enchant":"Урон повышается на $range на 10 сек. после блокирования","range":{"from":7,"to":15},"percent":true},{"group":"Концентрация","enchant":"Даёт $range концентрации при блокировании","range":{"from":2,"to":5},"percent":false},{"group":"Концентрация","enchant":"Даёт $range концентрации при парировании","range":{"from":5,"to":15},"percent":false},{"group":"Выносливость","enchant":"Даёт $range выносливости при парировании","range":{"from":9,"to":30},"percent":false},{"group":"Выносливость","enchant":"Даёт $range выносливости при блокировании","range":{"from":5,"to":15},"percent":false},{"group":"Защита","enchant":"Получаемый урон снижается на $range при блокировании","range":{"from":4,"to":15},"percent":true}]}'),I={magic:fe,curse:he,plagued:me},L=({text:c,range:e,percent:r,isRandomNumber:g})=>{if(!e)return c;const n=e.from??0,p=e.to??0;return g!==void 0?c.replace("$range",`${g}`+(r?"%":"")+`(${n}`+(r?"%":"")+`-${p}`+(r?"%":"")+")"):c.replace("$range",`${n}`+(r?"%":"")+`-${p}`+(r?"%":""))};function U(c,e){return Math.floor(Math.random()*(e-c+1))+c}const H=J("enchantment",()=>{const c=q(),e=T([]),r=T(),g=T(!1),n=A(()=>c.getArmor()?.enchantment??null),p=A(()=>{const k=n.value;return k==="magic"?3:k==="plagued"?4:0}),u=A(()=>e.value.length),d=A(()=>u.value<p.value);function E(k){const{ench:m,positionIndex:x,isCurse:i=!1}=k;let _=m.enchant,b=0;if(m.range&&(b=U(m.range.from,m.range.to),_=L({text:m.enchant,range:m.range,percent:m.percent,isRandomNumber:b})),i&&(g.value=!0,r.value={group:m.group,enchant:_,range:m.range??{from:0,to:0},percent:m.percent??!1,rangeValue:b,notFormattedString:m.enchant}),!d.value||e.value.some(a=>a.enchant===m.enchant)||e.value.some(a=>a.group===m.group))return;const t={group:m.group,enchant:_,rangeValue:b,notFormattedString:m.enchant,percent:m.percent,range:m.range};if(typeof x=="number"&&x>=0){const a=Math.min(x,e.value.length);e.value.splice(a,0,t)}else e.value.push(t)}function h(k){e.value=e.value.filter(m=>m.enchant!==k)}function $(){e.value=[],r.value=void 0,g.value=!1}return{selectedEnchantments:e,currentCategory:n,maxEnchantments:p,currentCount:u,canAddMore:d,isCurseExist:g,selectedCurse:r,addEnchantment:E,removeEnchantment:h,clearEnchantments:$}}),V={sky:1,awakening:2,corrupting:3,exalting:4,essence:5,empty:6},G={helmet:"helmet",chest:"chest",pants:"pants",gloves:"gloves",weapone:"weapone",bow:"bow",shield:"shield"},z=J("orb",()=>{const c=T(!1),e=T(0),r=T(0),g=T(!1),n=T(!1);function p(h){c.value=!0,e.value=V[h]}function u(){c.value=!1,d()}function d(){n.value=!1}function E(){u(),r.value=0,g.value=!1,n.value=!1,document.body.style.cursor="auto"}return{isOrbSelected:c,nameOrb:e,exaltedCount:r,essence:g,sky:n,resetSkyOrb:d,setSelectOrb:p,removeSelectOrb:u,clearOrbStore:E}});function D(){const c=q(),e=H(),r=z(),g=A(()=>c.getArmor()),n=A(()=>r.exaltedCount),p=A(()=>r.essence),u=T(""),d=A(()=>{const{base:i,enchantment:_}=g.value;if(!_)return{};if(!(_ in I))return console.warn(`Категория "${_}" не найдена в enchants.json`),{};const b=_,t=I[b];if(!t)return{};const a={[b]:{}};let v=[];if(i){const C=G[i];C&&C in t&&(v=[C])}else v=Object.keys(t);const y=C=>e.selectedEnchantments.some(O=>O.group===C.group);for(const C of v){let O=t[C]||[];if(u.value.trim()){const M=u.value.toLowerCase();O=O.filter(R=>R.enchant.toLowerCase().includes(M)||R.group.toLowerCase().includes(M))}O=O.filter(M=>!y(M)),O.length>0&&(a[b][C]=O.map(M=>{const R=M.range??{from:0,to:0},F=M.percent??!1;return{...M,range:R,percent:F,formattedEnchant:L({text:M.enchant,range:R,percent:F})}}))}return Object.keys(a[b]).length===0?{}:a}),E=A(()=>{if(!("curse"in I))return console.warn('Категория "curse" не найдена в enchants.json'),{};const i=I.curse;if(!i)return{};const _={curse:{}};let b=[];const{base:t}=g.value;if(t){const a=G[t];a&&a in i&&(b=[a])}else b=Object.keys(i);for(const a of b){let v=i[a]||[];if(u.value.trim()){const y=u.value.toLowerCase();v=v.filter(C=>C.enchant.toLowerCase().includes(y)||C.group.toLowerCase().includes(y))}v.length>0&&(_.curse[a]=v.map(y=>{const C=y.range??{from:0,to:0},O=y.percent??!1;return{...y,range:C,percent:O,formattedEnchant:L({text:y.enchant,range:C,percent:O}),randomEnchant:L({text:y.enchant,range:C,percent:O}),curseNumber:99}}))}return!_.curse||Object.keys(_.curse).length===0?{}:_});function h(i){let b=0;for(;b<50;){b++;const t=Object.values(d.value).flatMap(y=>Object.values(y)).flat();if(t.length===0){console.warn("Нет вообще никаких видимых зачарований");return}const a=Math.floor(Math.random()*t.length),v=t[a];if(!v)return;if(v.range){if(!e.canAddMore)return;if(!e.selectedEnchantments.some(y=>y.enchant===v.enchant)&&!e.selectedEnchantments.some(y=>y.group===v.group)){e.addEnchantment({ench:v,positionIndex:i});return}}}}function $(){let _=0;for(;_<50;){_++;const b=E.value?.curse;if(!b||Object.keys(b).length===0)return;const t=Object.values(b).flat();if(t.length===0)return;const a=Math.floor(Math.random()*t.length),v=t[a];if(!v)return;if(!e.selectedEnchantments.some(y=>y.enchant===v.enchant)){e.addEnchantment({ench:v,isCurse:!0}),console.log("Добавлено случайное проклятие:",v.enchant);return}}console.warn("Не удалось подобрать случайное проклятие после 50 попыток (возможно, все доступные уже выбраны)")}function k(i){e.removeEnchantment(i)}function m(){e.clearEnchantments(),r.clearOrbStore()}function x(i,_){e.addEnchantment({ench:i,isCurse:_}),r.clearOrbStore()}return{currentArmor:g,search:u,filteredEnchants:d,curseEnchants:E,exaltCount:n,isEssence:p,selectEnchant:x,removeEnchant:k,addRandomEnchantReplacement:h,addRandomCurse:$,clearAllEnch:m,enchantmentStore:e}}function K(){const c=H(),e=q(),r=z(),{removeEnchant:g,addRandomEnchantReplacement:n,addRandomCurse:p,clearAllEnch:u}=D();function d(t,a){return Object.keys(t).find(v=>t[v]===a)}function E(t){r.removeSelectOrb(),Object.assign(document.body.style,{cursor:`url('/icons/sphere/64/${t}.png') 16 16, auto`}),V[t]===5&&(r.essence=!0),V[t]===1&&(r.sky=!0),r.setSelectOrb(t)}function h(){c.clearEnchantments()}function $({ench:t,positionIndex:a,isCurse:v}){if(r.sky){if(g(t.enchant),v){p();return}n(a)}}function k(){h(),e.setArmorEnchantment("magic");for(let t=3;t>=0;t--)n()}function m(){h(),e.setArmorEnchantment("plagued");for(let t=4;t>=0;t--)n();p()}function x(){if(r.exaltedCount>=4){console.warn("Больше нет свойств для Exalt");return}const t=U(0,c.selectedEnchantments.length-1),a=c.selectedEnchantments[t];if(!a){console.warn("Не удалось выбрать зачарование для exalt");return}const v=a.firstRangeValue??a.rangeValue??0,y=v*.25,C=a.rangeValue??0+y,O=Number(C.toFixed(0)),M=L({text:a.notFormattedString??a.enchant,percent:a.percent,isRandomNumber:O,range:a.range});let R=a.exalt??0;R++,g(a.enchant);const F={group:a.group,enchant:M,rangeValue:O,firstRangeValue:v,notFormattedString:a.notFormattedString??a.enchant,percent:a.percent,range:a.range,exalt:R};r.exaltedCount+=1;const Y=Math.min(t,c.selectedEnchantments.length);c.selectedEnchantments.splice(Y,0,F)}function i(){r.essence=!1,r.clearOrbStore()}function _(){u()}function b(){const t=r.nameOrb;t===V.awakening&&k(),t===V.corrupting&&m(),t===V.exalting&&x(),t===V.essence&&i(),t===V.empty&&_()}return{useSkyOrb:$,useEssenceOrb:i,chooseOrb:E,getKeyByValue:d,selectedOrb:b}}const Q=(c,e)=>{const r=c.__vccOpts||c;for(const[g,n]of e)r[g]=n;return r},le={class:"orbs"},$e=["onClick"],ie={__name:"orbs",setup(c){const{getKeyByValue:e,chooseOrb:r}=K();return(g,n)=>(s(),f("div",le,[n[0]||(n[0]=l("h2",null,"ORBS",-1)),(s(!0),f(w,null,P(o(V),p=>(s(),f("button",{onClick:B(u=>o(r)(o(e)(o(V),p)),["stop"]),style:Z(`background-image: url('icons/sphere/frames/${o(e)(o(V),p)}.png');`),class:"orb"},null,12,$e))),256))]))}},de=Q(ie,[["__scopeId","data-v-3c7cee9e"]]),ve={class:"result-craft"},_e={class:"result-craft-settings__item"},be={class:"result-craft-settings__list"},Ee=["onClick"],ye={class:"result-craft-settings__exalts"},Se={class:"result-craft-settings__exalt"},ke={class:"result-craft-settings__text"},Ce=["onClick","title"],Oe={__name:"resultCraft",setup(c){const{currentArmor:e,removeEnchant:r,enchantmentStore:g,exaltCount:n,isEssence:p}=D(),{useSkyOrb:u,selectedOrb:d}=K();return(E,h)=>(s(),f("div",ve,[h[5]||(h[5]=l("h2",null,"Result Craft",-1)),X(de,{class:"result-craft__orbs"}),l("div",{onClick:h[1]||(h[1]=B($=>o(d)(),["stop"])),class:ee([{"result-craft__settings--exalting":o(n)===4},"result-craft-settings result-craft__settings"])},[l("div",_e,[h[2]||(h[2]=N(" Тип: ",-1)),l("strong",null,S(o(e).type||"не выбран"),1)]),l("div",null,[h[3]||(h[3]=N(" Часть: ",-1)),l("strong",null,S(o(e).base||"не выбрана"),1)]),l("div",null,[h[4]||(h[4]=N(" Категория: ",-1)),l("strong",null,S(o(e).enchantment||"не выбрана"),1)]),l("ul",be,[(s(!0),f(w,null,P(o(g).selectedEnchantments,($,k)=>(s(),f("li",{key:$.enchant,onClick:B(m=>o(u)({ench:$,positionIndex:k}),["stop"]),class:"result-craft-settings__property"},[l("ul",ye,[(s(!0),f(w,null,P($.exalt,m=>(s(),f("ol",Se))),256))]),l("p",ke,S(k)+" | "+S($.group)+" | "+S($.enchant),1),o(p)?(s(),f("button",{key:0,onClick:B(m=>o(r)($.enchant),["stop"]),class:"clear-btn",title:`Удалить ${$.enchant}`}," ❌ ",8,Ce)):j("",!0)],8,Ee))),128)),o(g).isCurseExist&&o(g).selectedCurse!==void 0?(s(),f("li",{key:0,onClick:h[0]||(h[0]=$=>o(u)({ench:o(g).selectedCurse,isCurse:!0})),style:{border:"1px solid red",cursor:"pointer"}},S(o(g).selectedCurse.group)+" | "+S(o(g).selectedCurse.enchant),1)):j("",!0)])],2)]))}},xe={class:"enchant-filter"},Ae={key:0,class:"currentArmor-choice"},we={key:0,class:"enchant-groups"},Te=["onClick"],Me={class:"enchant-text"},Ve={class:"group-text"},Pe={key:1,class:"no-matches"},Re={key:0},Be={key:1},Ne={key:2,class:"curse"},je=["onClick"],Le={class:"enchant-text"},Fe={class:"group-text"},Ie={__name:"selectEnchantment",setup(c){const{currentArmor:e,search:r,isEssence:g,filteredEnchants:n,curseEnchants:p,selectEnchant:u,clearAllEnch:d}=D();return(E,h)=>(s(),f("div",xe,[h[3]||(h[3]=l("h2",null,"Зачарования",-1)),l("button",{onClick:h[0]||(h[0]=(...$)=>o(d)&&o(d)(...$))},"clear"),o(e).type||o(e).base||o(e).enchantment?(s(),f("div",Ae,[X(Oe)])):j("",!0),o(g)?(s(),f(w,{key:1},[re(l("input",{"onUpdate:modelValue":h[1]||(h[1]=$=>te(r)?r.value=$:null),placeholder:"Поиск по названию или группе...",class:"search-input"},null,512),[[ne,o(r)]]),Object.keys(o(n)).length?(s(),f("div",we,[(s(!0),f(w,null,P(o(n),($,k)=>(s(),f("div",{key:k,class:"category"},[l("h3",null,S(k),1),(s(!0),f(w,null,P($,(m,x)=>(s(),f("div",{key:x,class:"part-section"},[l("h4",null,S(x),1),(s(!0),f(w,null,P(m,i=>(s(),f("div",{key:i.enchant,class:"enchant-item",onClick:B(_=>o(u)(i),["stop"])},[l("div",Me,S(i.formattedEnchant),1),l("div",Ve,"Группа: "+S(i.group),1)],8,Te))),128))]))),128))]))),128))])):(s(),f("div",Pe,[o(e).enchantment?(s(),f("p",Re,[h[2]||(h[2]=N(" В категории ",-1)),l("strong",null,S(o(e).enchantment),1),N(" "+S(o(e).base?`для части ${o(e).base}`:"")+" ничего не найдено ",1)])):(s(),f("p",Be,"Выберите категорию зачарований (common / magic / plagued)"))])),o(e).enchantment==="plagued"?(s(),f("div",Ne,[(s(!0),f(w,null,P(o(p),($,k)=>(s(),f("div",{key:k,class:"category"},[l("h3",null,S(k),1),(s(!0),f(w,null,P($,(m,x)=>(s(),f("div",{key:x,class:"part-section"},[l("h4",null,S(x),1),(s(!0),f(w,null,P(m,i=>(s(),f("div",{key:i.enchant,class:"enchant-item",onClick:_=>o(u)(i,!0)},[l("div",Le,S(i.formattedEnchant),1),l("div",Fe,"Группа: "+S(i.group),1)],8,je))),128))]))),128))]))),128))])):j("",!0)],64)):j("",!0)]))}},Xe=Q(Ie,[["__scopeId","data-v-1252336a"]]),qe={__name:"App",setup(c){const e=z();function r(){document.body.style.cursor="auto",e.clearOrbStore()}return(g,n)=>(s(),f("div",{onClick:B(r,["stop"]),class:"norest"},[n[0]||(n[0]=l("div",null,[l("h1",null,"NO REST CRAFT")],-1)),X(se),X(Xe)]))}},W=oe(qe),Je=ae();W.use(Je);W.mount("#app");
